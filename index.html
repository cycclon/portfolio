<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link rel="stylesheet" type="text/css" href="styles.css">
    <title>PRS</title>
</head>
<body>
    <div class="title">
        <h1><span id="title"></span> Pedro Ra√∫l Spidalieri</h1>
    </div>
    <div class="middle-menu">  
        <div class="theme">
            <button id="theme" onclick="toggleTheme()"></button>
        </div>
        <div class="language">
            <a href="." onclick="setLanguage('en')" id="english"></a> | <a href="." onclick="setLanguage('es')" id="spanish"></a>
        </div>
    </div>
    <div class="header" id="myHeader">        
        <ul class="menu">
            <li>
                <a href="#top">
                    <svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor" class="w-6 h-6">
                    <path stroke-linecap="round" stroke-linejoin="round" d="M2.25 12l8.954-8.955c.44-.439 1.152-.439 1.591 0L21.75 12M4.5 9.75v10.125c0 .621.504 1.125 1.125 1.125H9.75v-4.875c0-.621.504-1.125 1.125-1.125h2.25c.621 0 1.125.504 1.125 1.125V21h4.125c.621 0 1.125-.504 1.125-1.125V9.75M8.25 21h8.25" />
                    </svg><span id="home" />
                </a>        
            </li>                
            <li>
                <a href="">
                    <svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor" class="w-6 h-6">
                    <path stroke-linecap="round" stroke-linejoin="round" d="M15.75 6a3.75 3.75 0 11-7.5 0 3.75 3.75 0 017.5 0zM4.501 20.118a7.5 7.5 0 0114.998 0A17.933 17.933 0 0112 21.75c-2.676 0-5.216-.584-7.499-1.632z" />
                    </svg><span id="about" />
                </a>
            </li>                
            <li>
                <a href="">
                    <svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor" class="w-6 h-6">
                    <path stroke-linecap="round" stroke-linejoin="round" d="M14.25 9.75L16.5 12l-2.25 2.25m-4.5 0L7.5 12l2.25-2.25M6 20.25h12A2.25 2.25 0 0020.25 18V6A2.25 2.25 0 0018 3.75H6A2.25 2.25 0 003.75 6v12A2.25 2.25 0 006 20.25z" />
                    </svg><span id="projects" />
                </a>
            </li>                
            <li>
                <a href="">
                    <svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor" class="w-6 h-6">
                    <path stroke-linecap="round" stroke-linejoin="round" d="M21.75 6.75v10.5a2.25 2.25 0 01-2.25 2.25h-15a2.25 2.25 0 01-2.25-2.25V6.75m19.5 0A2.25 2.25 0 0019.5 4.5h-15a2.25 2.25 0 00-2.25 2.25m19.5 0v.243a2.25 2.25 0 01-1.07 1.916l-7.5 4.615a2.25 2.25 0 01-2.36 0L3.32 8.91a2.25 2.25 0 01-1.07-1.916V6.75" />
                    </svg><span id="contact" />
                </a>
            </li>
                
        </ul>
    </div>

    <div class="content">
        
      </div>
     

    <script>
        window.onscroll = function() {myFunction()};
        
        var header = document.getElementById("myHeader");
        var sticky = header.offsetTop;
        
        function myFunction() {
          if (window.pageYOffset > sticky) {
            header.classList.add("sticky");
          } else {
            header.classList.remove("sticky");
          }
        }


        // LANGUAGE HANDLING
        var language; 
        function getLanguage() {
            (localStorage.getItem('language') == null) ? setLanguage('en') : false;
            $.ajax({ 
            url:  '/lang/' +  localStorage.getItem('language') + '.json', 
            dataType: 'json', async: false, dataType: 'json', 
            success: function (lang) { language = lang } });
        }

        function setLanguage(lang) {
            localStorage.setItem('language', lang);
        }    
        
        // THEME HANDLING
        function toggleTheme() {
            (localStorage.getItem('theme') == null) ? localStorage.setItem('theme', 'dark') : 
            (localStorage.getItem('theme') === 'dark') ? localStorage.setItem('theme', 'light') 
            : localStorage.setItem('theme', 'dark');
            location.reload()
        }
    </script>
    <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.2.1/jquery.min.js"></script>
    <script>
        
        jQuery(document).ready(function($){
            // LOAD TEXTS FORM LANG FILES
            getLanguage()
            //HEADER
            $('#title').text(language.title);
            //MENU
            $('#home').text(language.menu.home);
            $('#about').text(language.menu.about);
            $('#projects').text(language.menu.projects);
            $('#contact').text(language.menu.contact);

            //LANGUAGE
            $('#english').text(language.language.english);
            $('#spanish').text(language.language.spanish);

            //HIGHLIGHTED OPTIONS
            if (localStorage.getItem('language')==='es') {
                $('#spanish').addClass('active');
                $('#english').removeClass('active');
            }  else {
                $('#spanish').removeClass('active');
                $('#english').addClass('active');
            }

            // SET THEME
            (localStorage.getItem('theme') === 'light') ? $('body').addClass('light') 
            : $('body').removeClass('light');
            //SET THEME BUTTON
            
            //SUN ICON
            const sunIcon = "<svg xmlns='http://www.w3.org/2000/svg' fill='none' viewBox='0 0 24 24' stroke-width='1.5' stroke='currentColor' class='theme-icon'><path stroke-linecap='round' stroke-linejoin='round' d='M12 3v2.25m6.364.386l-1.591 1.591M21 12h-2.25m-.386 6.364l-1.591-1.591M12 18.75V21m-4.773-4.227l-1.591 1.591M5.25 12H3m4.227-4.773L5.636 5.636M15.75 12a3.75 3.75 0 11-7.5 0 3.75 3.75 0 017.5 0z' /></svg>";
            //MOON ICON
            const moonIcon = "<svg xmlns='http://www.w3.org/2000/svg' fill='none' viewBox='0 0 24 24' stroke-width='1.5' stroke='currentColor' class='theme-icon'><path stroke-linecap='round' stroke-linejoin='round' d='M21.752 15.002A9.718 9.718 0 0118 15.75c-5.385 0-9.75-4.365-9.75-9.75 0-1.33.266-2.597.748-3.752A9.753 9.753 0 003 11.25C3 16.635 7.365 21 12.75 21a9.753 9.753 0 009.002-5.998z' /></svg>";
            //console.log('ok')
            (localStorage.getItem('theme') === 'light') ? $('#theme').html(moonIcon) : $('#theme').html(sunIcon);
        });
    </script>
</body>
</html>